{% extends 'base.html' %}

{% block content %}

<title>Solitaire Scrabble</title>

<script>

function allowDrop(ev) {
    ev.preventDefault();
}

function drag(ev) {
  ev.dataTransfer.setData("text", ev.target.id);
}

function drop(ev) {
  ev.preventDefault();
  const data = ev.dataTransfer.getData("text");
  ev.target.appendChild(document.getElementById(data));
}

</script>

<div class="game">

    <div class="board">
        {% for slot in board %}
                {% if slot == None %}
                    <div class="empty-slot" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                {% else %}
                    <div class="bonus-slot" ondrop="drop(event)" ondragover="allowDrop(event)">{{ slot }}</div>
                {% endif %}
        {% endfor %}
    </div>

    <div class="hand">
        {% for tile in hand %}
            <div class="hand-tile" draggable="true" ondragstart="drag(event)">{{ tile }}
                <span class="hand-tile-score" >{{ tile_scores[tile] }}</span>
            </div>
        {% endfor %}
    </div>

    <div class="sequence">
        {% for tile in sequence %}
            <div class="sequence-tile">{{ tile }}
                <span class="sequence-tile-score">{{ tile_scores[tile] }}</span>
            </div>
        {% endfor %}
    </div>

</div>

<div class="row center">
    <div class="column left scrollable">
        <h2>leadership</h2>
        <table style="width: 100%" class="center">
            <tr>
                <th>Username</th>
                <th>Score</th>
            </tr>
            {% for user in users %}
                <tr>
                    <td>{{ user['username'] }}</td>
                    <td>{{ user['score'] }}</td>
                </tr>
            {% endfor %}
        </table>
    </div>
    <div class="column middle scrollable">
        <h2>chat</h2>
    </div>
    <div class="column right scrollable">
        <h2>other</h2>
    </div>
</div>

{% endblock %}